<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>DesignDocument | @ibm-cloud/cloudant - v0.9.1</title><meta name="description" content="Documentation for @ibm-cloud/cloudant"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">@ibm-cloud/cloudant - v0.9.1</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">@ibm-cloud/cloudant</a></li><li><a href="../modules/CloudantV1.html">CloudantV1</a></li><li><a href="CloudantV1.DesignDocument-1.html">DesignDocument</a></li></ul><h1>Class DesignDocument</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>Schema for a design document.</p>
</div><div class="tsd-comment tsd-typography"></div></section><section class="tsd-panel"><h4 class="tsd-before-signature">Indexable</h4><div class="tsd-signature"><span class="tsd-signature-symbol">[</span>propName: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">]: </span><span class="tsd-signature-type">any</span></div><div class="tsd-comment tsd-typography"><p>DesignDocument accepts additional properties.</p>
</div><div class="tsd-comment tsd-typography"></div></section><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/IBM/cloudant-node-sdk/blob/9e41c86b499b03440e9977ac2d58559f1bc9a5dd/cloudant/v1.ts#L12559">cloudant/v1.ts:12559</a></li><li>Defined in <a href="https://github.com/IBM/cloudant-node-sdk/blob/9e41c86b499b03440e9977ac2d58559f1bc9a5dd/cloudant/v1.ts#L12835">cloudant/v1.ts:12835</a></li></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-index-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><h5 class="tsd-index-heading uppercase" role="button" aria-expanded="false" tabIndex="0"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-chevronSmall"></use></svg> Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Constructors</h3><div class="tsd-index-list"><a href="CloudantV1.DesignDocument-1.html#constructor" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Properties</h3><div class="tsd-index-list"><a href="CloudantV1.DesignDocument-1.html#_attachments" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>_attachments?</span></a>
<a href="CloudantV1.DesignDocument-1.html#_conflicts" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>_conflicts?</span></a>
<a href="CloudantV1.DesignDocument-1.html#_deleted" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>_deleted?</span></a>
<a href="CloudantV1.DesignDocument-1.html#_deleted_conflicts" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>_deleted_<wbr/>conflicts?</span></a>
<a href="CloudantV1.DesignDocument-1.html#_id" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>_id?</span></a>
<a href="CloudantV1.DesignDocument-1.html#_local_seq" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>_local_<wbr/>seq?</span></a>
<a href="CloudantV1.DesignDocument-1.html#_rev" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>_rev?</span></a>
<a href="CloudantV1.DesignDocument-1.html#_revisions" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>_revisions?</span></a>
<a href="CloudantV1.DesignDocument-1.html#_revs_info" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>_revs_<wbr/>info?</span></a>
<a href="CloudantV1.DesignDocument-1.html#autoupdate" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>autoupdate?</span></a>
<a href="CloudantV1.DesignDocument-1.html#filters" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>filters?</span></a>
<a href="CloudantV1.DesignDocument-1.html#indexes" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>indexes?</span></a>
<a href="CloudantV1.DesignDocument-1.html#language" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>language?</span></a>
<a href="CloudantV1.DesignDocument-1.html#options" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>options?</span></a>
<a href="CloudantV1.DesignDocument-1.html#validateDocUpdate" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>validate<wbr/>Doc<wbr/>Update?</span></a>
<a href="CloudantV1.DesignDocument-1.html#views" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>views?</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Methods</h3><div class="tsd-index-list"><a href="CloudantV1.DesignDocument-1.html#deserialize" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>deserialize</span></a>
<a href="CloudantV1.DesignDocument-1.html#serialize" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>serialize</span></a>
</div></section></div></details></section></section><section class="tsd-panel-group tsd-member-group"><h2>Constructors</h2><section class="tsd-panel tsd-member"><a id="constructor" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>constructor</span><a href="#constructor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="constructor.new_DesignDocument" class="tsd-anchor"></a><span class="tsd-kind-constructor-signature">new <wbr/>Design<wbr/>Document</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="CloudantV1.DesignDocument-1.html" class="tsd-signature-type tsd-kind-class">DesignDocument</a><a href="#constructor.new_DesignDocument" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><h4 class="tsd-returns-title">Returns <a href="CloudantV1.DesignDocument-1.html" class="tsd-signature-type tsd-kind-class">DesignDocument</a></h4></li></ul></section></section><section class="tsd-panel-group tsd-member-group"><h2>Properties</h2><section class="tsd-panel tsd-member"><a id="_attachments" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagOptional">Optional</code> <span>_attachments</span><a href="#_attachments" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">_attachments</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-symbol">{ </span><br/><span>    </span>[<span class="tsd-kind-index-signature">key</span>: <span class="tsd-signature-type">string</span>]<span class="tsd-signature-symbol">: </span><a href="CloudantV1.Attachment-1.html" class="tsd-signature-type tsd-kind-class">Attachment</a><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></div><div class="tsd-comment tsd-typography"><p>Schema for a map of attachment name to attachment metadata.</p>
</div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-index-signature"><h5><span class="tsd-signature-symbol">[</span><span class="tsd-kind-parameter">key</span>: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">]: </span><a href="CloudantV1.Attachment-1.html" class="tsd-signature-type tsd-kind-class">Attachment</a></h5></li></ul></div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/IBM/cloudant-node-sdk/blob/9e41c86b499b03440e9977ac2d58559f1bc9a5dd/cloudant/v1.ts#L12561">cloudant/v1.ts:12561</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="_conflicts" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagOptional">Optional</code> <span>_conflicts</span><a href="#_conflicts" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">_conflicts</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></div><div class="tsd-comment tsd-typography"><p>Schema for a list of document revision identifiers.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/IBM/cloudant-node-sdk/blob/9e41c86b499b03440e9977ac2d58559f1bc9a5dd/cloudant/v1.ts#L12564">cloudant/v1.ts:12564</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="_deleted" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagOptional">Optional</code> <span>_deleted</span><a href="#_deleted" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">_deleted</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span></div><div class="tsd-comment tsd-typography"><p>Deletion flag. Available if document was removed.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/IBM/cloudant-node-sdk/blob/9e41c86b499b03440e9977ac2d58559f1bc9a5dd/cloudant/v1.ts#L12567">cloudant/v1.ts:12567</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="_deleted_conflicts" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagOptional">Optional</code> <span>_deleted_<wbr/>conflicts</span><a href="#_deleted_conflicts" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">_deleted_<wbr/>conflicts</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></div><div class="tsd-comment tsd-typography"><p>Schema for a list of document revision identifiers.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/IBM/cloudant-node-sdk/blob/9e41c86b499b03440e9977ac2d58559f1bc9a5dd/cloudant/v1.ts#L12570">cloudant/v1.ts:12570</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="_id" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagOptional">Optional</code> <span>_id</span><a href="#_id" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">_id</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span></div><div class="tsd-comment tsd-typography"><p>Schema for a design document ID.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/IBM/cloudant-node-sdk/blob/9e41c86b499b03440e9977ac2d58559f1bc9a5dd/cloudant/v1.ts#L12573">cloudant/v1.ts:12573</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="_local_seq" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagOptional">Optional</code> <span>_local_<wbr/>seq</span><a href="#_local_seq" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">_local_<wbr/>seq</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span></div><div class="tsd-comment tsd-typography"><p>Document&#39;s update sequence in current database. Available if requested with local_seq=true query parameter.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/IBM/cloudant-node-sdk/blob/9e41c86b499b03440e9977ac2d58559f1bc9a5dd/cloudant/v1.ts#L12576">cloudant/v1.ts:12576</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="_rev" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagOptional">Optional</code> <span>_rev</span><a href="#_rev" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">_rev</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span></div><div class="tsd-comment tsd-typography"><p>Schema for a document revision identifier.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/IBM/cloudant-node-sdk/blob/9e41c86b499b03440e9977ac2d58559f1bc9a5dd/cloudant/v1.ts#L12579">cloudant/v1.ts:12579</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="_revisions" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagOptional">Optional</code> <span>_revisions</span><a href="#_revisions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">_revisions</span><span class="tsd-signature-symbol">?:</span> <a href="CloudantV1.Revisions-1.html" class="tsd-signature-type tsd-kind-class">Revisions</a></div><div class="tsd-comment tsd-typography"><p>Schema for list of revision information.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/IBM/cloudant-node-sdk/blob/9e41c86b499b03440e9977ac2d58559f1bc9a5dd/cloudant/v1.ts#L12582">cloudant/v1.ts:12582</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="_revs_info" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagOptional">Optional</code> <span>_revs_<wbr/>info</span><a href="#_revs_info" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">_revs_<wbr/>info</span><span class="tsd-signature-symbol">?:</span> <a href="CloudantV1.DocumentRevisionStatus-1.html" class="tsd-signature-type tsd-kind-class">DocumentRevisionStatus</a><span class="tsd-signature-symbol">[]</span></div><div class="tsd-comment tsd-typography"><p>Schema for a list of objects with information about local revisions and their status.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/IBM/cloudant-node-sdk/blob/9e41c86b499b03440e9977ac2d58559f1bc9a5dd/cloudant/v1.ts#L12585">cloudant/v1.ts:12585</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="autoupdate" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagOptional">Optional</code> <span>autoupdate</span><a href="#autoupdate" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">autoupdate</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span></div><div class="tsd-comment tsd-typography"><p>Indicates whether to automatically build indexes defined in this design document.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/IBM/cloudant-node-sdk/blob/9e41c86b499b03440e9977ac2d58559f1bc9a5dd/cloudant/v1.ts#L12588">cloudant/v1.ts:12588</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="filters" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagOptional">Optional</code> <span>filters</span><a href="#filters" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">filters</span><span class="tsd-signature-symbol">?:</span> <a href="CloudantV1.JsonObject.html" class="tsd-signature-type tsd-kind-class">JsonObject</a></div><div class="tsd-comment tsd-typography"><p>Schema for filter functions definition. This schema is a map where keys are the names of the filter
 functions and values are the function definition in string format.</p>
<p> Filter function formats, or filters the changes feed that pass filter rules. The function takes 2 parameters:</p>
<ul>
<li><p><code>doc</code>: The document that is being processed.</p>
</li>
<li><p><code>req</code>: A Request JavaScript object with these properties:</p>
<ul>
<li><code>body</code> - string, Request body data as string.
If the request method is GET this field contains the value
<code>&quot;undefined&quot;</code>.
If the method is DELETE or HEAD the value is <code>&quot;&quot;</code> (empty string).</li>
<li><code>cookie</code> - Cookies object.</li>
<li><code>form</code> - Form Data object, contains the decoded body as key-value
pairs if the Content-Type header was
application/x-www-form-urlencoded.</li>
<li><code>headers</code> - Request Headers object.</li>
<li><code>id</code> - string, requested document id if it was specified
or null otherwise.</li>
<li><code>info</code> - Database Information object,
see <code>DatabaseInformation</code>.</li>
<li><code>method</code> - string or an array of chars, request method.
String value is a method as one of: HEAD, GET, POST, PUT,
DELETE, OPTIONS, TRACE, COPY. For not supported methods
it will be represented as an array of char codes e.g. for VIEW
it will be 86,73,69,87.</li>
<li><code>path</code> - array of strings, requested path sections.</li>
<li><code>peer</code> - string, request source IP address.</li>
<li><code>query</code> - string, URL query parameters object. Note that multiple
keys are not supported and the last key value suppresses others.</li>
<li><code>requested_path</code> - array of strings,
actual requested path section.</li>
<li><code>raw_path</code> - string, raw requested path.</li>
<li><code>userCtx</code>: User Context Object, containing information about the
user writing the document (if present), see the <code>UserContext</code>.</li>
<li><code>secObj</code>: Security Object, with lists of database security roles,
see the <code>SecurityObject</code>.</li>
<li><code>uuid</code> - string, generated UUID by a specified algorithm in the
config file.</li>
</ul>
</li>
</ul>
<p> Filter functions must return true if a document passed all the rules.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/IBM/cloudant-node-sdk/blob/9e41c86b499b03440e9977ac2d58559f1bc9a5dd/cloudant/v1.ts#L12632">cloudant/v1.ts:12632</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="indexes" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagOptional">Optional</code> <span>indexes</span><a href="#indexes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">indexes</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-symbol">{ </span><br/><span>    </span>[<span class="tsd-kind-index-signature">key</span>: <span class="tsd-signature-type">string</span>]<span class="tsd-signature-symbol">: </span><a href="CloudantV1.SearchIndexDefinition-1.html" class="tsd-signature-type tsd-kind-class">SearchIndexDefinition</a><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></div><div class="tsd-comment tsd-typography"><p>Search (text) index function definitions.</p>
</div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-index-signature"><h5><span class="tsd-signature-symbol">[</span><span class="tsd-kind-parameter">key</span>: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">]: </span><a href="CloudantV1.SearchIndexDefinition-1.html" class="tsd-signature-type tsd-kind-class">SearchIndexDefinition</a></h5></li></ul></div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/IBM/cloudant-node-sdk/blob/9e41c86b499b03440e9977ac2d58559f1bc9a5dd/cloudant/v1.ts#L12635">cloudant/v1.ts:12635</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="language" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagOptional">Optional</code> <span>language</span><a href="#language" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">language</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span></div><div class="tsd-comment tsd-typography"><p>Defines Query Server key to process design document functions.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/IBM/cloudant-node-sdk/blob/9e41c86b499b03440e9977ac2d58559f1bc9a5dd/cloudant/v1.ts#L12638">cloudant/v1.ts:12638</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="options" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagOptional">Optional</code> <span>options</span><a href="#options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">options</span><span class="tsd-signature-symbol">?:</span> <a href="CloudantV1.DesignDocumentOptions-1.html" class="tsd-signature-type tsd-kind-class">DesignDocumentOptions</a></div><div class="tsd-comment tsd-typography"><p>Schema for design document options.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/IBM/cloudant-node-sdk/blob/9e41c86b499b03440e9977ac2d58559f1bc9a5dd/cloudant/v1.ts#L12641">cloudant/v1.ts:12641</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="validateDocUpdate" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagOptional">Optional</code> <span>validate<wbr/>Doc<wbr/>Update</span><a href="#validateDocUpdate" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">validate<wbr/>Doc<wbr/>Update</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span></div><div class="tsd-comment tsd-typography"><p>Validate document update function can be used to prevent invalid or unauthorized document update requests
 from being stored. Validation functions typically examine the structure of the new document to ensure that
 required fields are present and to verify that the requesting user should be allowed to make changes to the
 document properties. When a write request is received for a given database, the validation function in each
 design document in that database is called in an unspecified order. If any of the validation functions throw an
 error, the write will not succeed.</p>
<p> The validation function can abort the pending document write by throwing one of two error objects:</p>
<pre><code><span class="hl-7">// user is not authorized to make the change but may re-authenticate throw({ unauthorized: &#39;Error message here.&#39;</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-7">// change is not allowed throw({ forbidden: &#39;Error message here.&#39; });</span>
</code><button>Copy</button></pre>
<p> The function takes 4 parameters:</p>
<ul>
<li><code>newDoc</code> - New version of document that will be stored
from the update request.</li>
<li><code>oldDoc</code> - Previous version of document that is already stored.</li>
<li><code>userCtx</code> - User Context Object, containing information about the
user writing the document (if present), see the <code>UserContext</code>.</li>
<li><code>secObj</code> - Security Object, with lists of database security roles,
see the <code>SecurityObject</code>.</li>
</ul>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/IBM/cloudant-node-sdk/blob/9e41c86b499b03440e9977ac2d58559f1bc9a5dd/cloudant/v1.ts#L12669">cloudant/v1.ts:12669</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="views" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagOptional">Optional</code> <span>views</span><a href="#views" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">views</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-symbol">{ </span><br/><span>    </span>[<span class="tsd-kind-index-signature">key</span>: <span class="tsd-signature-type">string</span>]<span class="tsd-signature-symbol">: </span><a href="CloudantV1.DesignDocumentViewsMapReduce-1.html" class="tsd-signature-type tsd-kind-class">DesignDocumentViewsMapReduce</a><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></div><div class="tsd-comment tsd-typography"><p>Schema for design document views.</p>
</div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-index-signature"><h5><span class="tsd-signature-symbol">[</span><span class="tsd-kind-parameter">key</span>: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">]: </span><a href="CloudantV1.DesignDocumentViewsMapReduce-1.html" class="tsd-signature-type tsd-kind-class">DesignDocumentViewsMapReduce</a></h5></li></ul></div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/IBM/cloudant-node-sdk/blob/9e41c86b499b03440e9977ac2d58559f1bc9a5dd/cloudant/v1.ts#L12672">cloudant/v1.ts:12672</a></li></ul></aside></section></section><section class="tsd-panel-group tsd-member-group"><h2>Methods</h2><section class="tsd-panel tsd-member"><a id="deserialize" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagStatic">Static</code> <span>deserialize</span><a href="#deserialize" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="deserialize.deserialize-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">deserialize</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">obj</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="CloudantV1.DesignDocument-1.html" class="tsd-signature-type tsd-kind-class">DesignDocument</a><a href="#deserialize.deserialize-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">obj</span>: <span class="tsd-signature-type">any</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="CloudantV1.DesignDocument-1.html" class="tsd-signature-type tsd-kind-class">DesignDocument</a></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/IBM/cloudant-node-sdk/blob/9e41c86b499b03440e9977ac2d58559f1bc9a5dd/cloudant/v1.ts#L12756">cloudant/v1.ts:12756</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="serialize" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagStatic">Static</code> <span>serialize</span><a href="#serialize" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="serialize.serialize-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">serialize</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">obj</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../modules/CloudantV1.html" class="tsd-signature-type tsd-kind-namespace">CloudantV1</a><span class="tsd-signature-symbol">.</span><a href="../modules/CloudantV1.DesignDocument.html" class="tsd-signature-type tsd-kind-namespace">DesignDocument</a><span class="tsd-signature-symbol">.</span><a href="../interfaces/CloudantV1.DesignDocument.Transport.html" class="tsd-signature-type tsd-kind-interface">Transport</a><a href="#serialize.serialize-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">obj</span>: <span class="tsd-signature-type">any</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="../modules/CloudantV1.html" class="tsd-signature-type tsd-kind-namespace">CloudantV1</a><span class="tsd-signature-symbol">.</span><a href="../modules/CloudantV1.DesignDocument.html" class="tsd-signature-type tsd-kind-namespace">DesignDocument</a><span class="tsd-signature-symbol">.</span><a href="../interfaces/CloudantV1.DesignDocument.Transport.html" class="tsd-signature-type tsd-kind-interface">Transport</a></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/IBM/cloudant-node-sdk/blob/9e41c86b499b03440e9977ac2d58559f1bc9a5dd/cloudant/v1.ts#L12677">cloudant/v1.ts:12677</a></li></ul></aside></li></ul></section></section></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#constructor" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a><a href="#_attachments" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>_attachments</span></a><a href="#_conflicts" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>_conflicts</span></a><a href="#_deleted" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>_deleted</span></a><a href="#_deleted_conflicts" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>_deleted_<wbr/>conflicts</span></a><a href="#_id" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>_id</span></a><a href="#_local_seq" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>_local_<wbr/>seq</span></a><a href="#_rev" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>_rev</span></a><a href="#_revisions" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>_revisions</span></a><a href="#_revs_info" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>_revs_<wbr/>info</span></a><a href="#autoupdate" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>autoupdate</span></a><a href="#filters" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>filters</span></a><a href="#indexes" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>indexes</span></a><a href="#language" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>language</span></a><a href="#options" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>options</span></a><a href="#validateDocUpdate" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>validate<wbr/>Doc<wbr/>Update</span></a><a href="#views" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>views</span></a><a href="#deserialize" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>deserialize</span></a><a href="#serialize" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>serialize</span></a></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1"></use></svg><span>@ibm-cloud/cloudant - v0.9.1</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base=".."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>